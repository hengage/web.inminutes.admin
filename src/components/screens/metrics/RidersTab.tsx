/* eslint-disable @typescript-eslint/no-unused-vars */
"use client";
import React, { useState } from "react";
// import { format } from "date-fns";

import SummaryCard from "./SummaryCard";
import MiniTableSummary from "./MiniTableSummary";
import { Riders } from "./DashboardChart";
import { useGetRidersSummaryQuery, useGetTopRidersQuery } from "@/api/metrics";
import { GraphProps } from "@/lib/comon/order-utils";
const RidersTab = ({ startDate, endDate }: GraphProps) => {
  const { data: topRiders } = useGetTopRidersQuery();
  const { data: ridersSummary } = useGetRidersSummaryQuery();

  const metrics = [
    {
      label: "Total Riders",
      value: ridersSummary?.totalRiders,
      icon: (
        <svg
          width="18"
          height="18"
          viewBox="0 0 18 18"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M5.31738 15.543C5.31154 15.5428 5.30565 15.5441 5.2998 15.5439C5.28324 15.5435 5.26652 15.5409 5.25 15.54C5.27244 15.5412 5.29485 15.5425 5.31738 15.543ZM5.50879 15.5381C5.48895 15.5394 5.46912 15.5402 5.44922 15.541C5.46913 15.5402 5.48895 15.5394 5.50879 15.5381ZM5.71973 15.5127C5.69143 15.5174 5.66327 15.5228 5.63477 15.5264C5.6633 15.5228 5.69143 15.5174 5.71973 15.5127ZM5.91992 15.4697C5.88808 15.4781 5.85644 15.4872 5.82422 15.4941C5.85646 15.4872 5.88808 15.4781 5.91992 15.4697ZM6.19434 15.3799C6.13544 15.4041 6.07539 15.4253 6.01465 15.4443C6.07546 15.4253 6.13548 15.4042 6.19434 15.3799ZM4.65234 15.4238C4.61852 15.4122 4.58496 15.4 4.55176 15.3867C4.58496 15.4 4.61851 15.4122 4.65234 15.4238ZM4.48926 15.3604C4.44775 15.3422 4.40656 15.3234 4.36621 15.3027C4.40655 15.3235 4.44774 15.3422 4.48926 15.3604ZM6.375 15.2949C6.32936 15.3188 6.28245 15.3398 6.23535 15.3604C6.28249 15.3398 6.32939 15.3188 6.375 15.2949ZM4.29785 15.2656C4.26496 15.2472 4.23313 15.2271 4.20117 15.207C4.23312 15.2272 4.26496 15.2472 4.29785 15.2656ZM6.5459 15.1943C6.51232 15.216 6.47796 15.2361 6.44336 15.2559C6.47799 15.2361 6.51234 15.216 6.5459 15.1943ZM4.12598 15.1592C4.09457 15.1376 4.06451 15.1141 4.03418 15.0908C4.0645 15.1141 4.09457 15.1375 4.12598 15.1592ZM6.67383 15.1074C6.65771 15.1195 6.64043 15.13 6.62402 15.1416C6.65152 15.1221 6.67844 15.1019 6.70508 15.0811C6.69446 15.0893 6.68461 15.0993 6.67383 15.1074ZM3.82031 14.9062C3.86616 14.9521 3.91453 14.9949 3.96387 15.0361C3.96048 15.0333 3.9565 15.0312 3.95312 15.0283C3.85265 14.9433 3.76047 14.8495 3.67773 14.749C3.72251 14.8035 3.77003 14.856 3.82031 14.9062ZM6.87402 14.9336C6.84548 14.961 6.8172 14.9887 6.78711 15.0146C6.81707 14.9888 6.84538 14.9612 6.87402 14.9336ZM7.03125 14.7676C6.99607 14.8093 6.95922 14.8496 6.9209 14.8887C6.95927 14.8495 6.99616 14.8093 7.03125 14.7676ZM7.2832 14.3984C7.21857 14.5181 7.14334 14.6317 7.05762 14.7373C7.14365 14.6312 7.21897 14.5176 7.2832 14.3984ZM3.64258 14.7021C3.61535 14.6672 3.58849 14.6322 3.56348 14.5957C3.58843 14.6321 3.61536 14.6672 3.64258 14.7021ZM3.52246 14.5322C3.49525 14.4895 3.46949 14.4459 3.44531 14.4014C3.46941 14.4459 3.49526 14.4894 3.52246 14.5322ZM3.42773 14.3672C3.40213 14.3179 3.37826 14.2679 3.35645 14.2168C3.37817 14.2679 3.40216 14.3179 3.42773 14.3672ZM7.36914 14.2168C7.34904 14.2639 7.32701 14.31 7.30371 14.3555C7.32701 14.3099 7.34912 14.2639 7.36914 14.2168ZM3.27441 13.9961C3.25339 13.9269 3.23484 13.8566 3.2207 13.7852L3.15332 13.4434L2.84473 13.2822L2.75977 13.2305C2.67897 13.1731 2.61028 13.099 2.55859 13.0137C2.48988 12.9 2.45402 12.7695 2.4541 12.6367V8.27246H7.54492V9C7.54492 9.38571 7.69801 9.75555 7.9707 10.0283C8.24342 10.301 8.61335 10.454 8.99902 10.4541H10.4541C10.8398 10.454 11.2097 10.301 11.4824 10.0283C11.7551 9.75555 11.9082 9.38571 11.9082 9V6.09082H13.7646L14.1201 7.06738L16.1172 12.5537V12.5547L16.1221 12.5674C16.1229 12.5696 16.1232 12.572 16.124 12.5742L16.123 12.5723L16.1221 12.5693C15.9622 12.1605 15.6828 11.809 15.3203 11.5615C14.9578 11.3141 14.5288 11.1816 14.0898 11.1816C13.6259 11.1818 13.1739 11.3301 12.7998 11.6045C12.4258 11.8789 12.1492 12.2656 12.0098 12.708C11.8849 13.1044 11.8766 13.5271 11.9834 13.9268C11.9815 13.9198 11.9784 13.9132 11.9766 13.9062L11.834 13.3633H7.61719L7.47656 13.9082C7.4713 13.9285 7.46384 13.9486 7.45801 13.9688C7.51436 13.7737 7.54492 13.57 7.54492 13.3633C7.54483 12.7848 7.31436 12.2304 6.90527 11.8213C6.49619 11.4122 5.94181 11.1817 5.36328 11.1816C4.78463 11.1816 4.22948 11.4121 3.82031 11.8213C3.41131 12.2304 3.18076 12.7848 3.18066 13.3633C3.18066 13.5795 3.21286 13.7929 3.27441 13.9961ZM7.44824 14.0029C7.43123 14.0582 7.41186 14.1125 7.39062 14.166C7.41185 14.1124 7.43132 14.0581 7.44824 14.0029ZM12.0527 14.1396C12.0461 14.1225 12.0394 14.1053 12.0332 14.0879C12.0393 14.1053 12.0462 14.1224 12.0527 14.1396ZM3.34277 14.1846C3.31978 14.1282 3.29853 14.0711 3.28027 14.0127C3.29844 14.071 3.31982 14.1281 3.34277 14.1846Z"
            stroke="#484D57"
            strokeWidth="1.45455"
          />
        </svg>
      ),
    },
    {
      label: "Rider Applicants",
      value: ridersSummary?.totalPendingRiders,
      icon: (
        <svg
          width="18"
          height="18"
          viewBox="0 0 18 18"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M14.82 6.27286V13.3638C14.82 15.5456 13.5181 16.2729 11.9109 16.2729H6.09268C4.48541 16.2729 3.18359 15.5456 3.18359 13.3638V6.27286C3.18359 3.90922 4.48541 3.36377 6.09268 3.36377C6.09268 3.81468 6.27448 4.22195 6.57266 4.52013C6.87085 4.81831 7.27814 5.00013 7.72905 5.00013H10.2745C11.1763 5.00013 11.9109 4.26559 11.9109 3.36377C13.5181 3.36377 14.82 3.90922 14.82 6.27286Z"
            stroke="#484D57"
            strokeWidth="1.45455"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <path
            d="M11.91 3.36366C11.91 4.26548 11.1754 5.00002 10.2736 5.00002H7.72816C7.27725 5.00002 6.86996 4.8182 6.57178 4.52002C6.2736 4.22184 6.0918 3.81457 6.0918 3.36366C6.0918 2.46184 6.82634 1.72729 7.72816 1.72729H10.2736C10.7245 1.72729 11.1318 1.90912 11.43 2.2073C11.7282 2.50548 11.91 2.91275 11.91 3.36366Z"
            stroke="#484D57"
            strokeWidth="1.81818"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <path
            d="M6.0918 9.72729H9.00089"
            stroke="#484D57"
            strokeWidth="1.81818"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <path
            d="M6.0918 12.6362H11.91"
            stroke="#484D57"
            strokeWidth="1.81818"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
        </svg>
      ),
    },
    {
      label: "Rider Categories",
      value: ridersSummary?.totalOrdersForRiders,
      icon: (
        <svg
          width="18"
          height="18"
          viewBox="0 0 18 18"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M1.72656 1.72729H2.99202C3.77748 1.72729 4.39565 2.40366 4.3302 3.18184L3.72656 10.4255C3.62474 11.6109 4.56292 12.6291 5.75565 12.6291H13.5011C14.5484 12.6291 15.4647 11.7709 15.5447 10.7309L15.9375 5.27639C16.0247 4.06912 15.1084 3.08729 13.8938 3.08729H4.50475"
            stroke="#484D57"
            strokeWidth="1.45455"
            strokeMiterlimit="10"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <path
            d="M12.0927 16.2725C12.5948 16.2725 13.0018 15.8655 13.0018 15.3634C13.0018 14.8614 12.5948 14.4543 12.0927 14.4543C11.5906 14.4543 11.1836 14.8614 11.1836 15.3634C11.1836 15.8655 11.5906 16.2725 12.0927 16.2725Z"
            stroke="#484D57"
            strokeWidth="1.81818"
            strokeMiterlimit="10"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <path
            d="M6.27237 16.2725C6.77445 16.2725 7.18146 15.8655 7.18146 15.3634C7.18146 14.8614 6.77445 14.4543 6.27237 14.4543C5.7703 14.4543 5.36328 14.8614 5.36328 15.3634C5.36328 15.8655 5.7703 16.2725 6.27237 16.2725Z"
            stroke="#484D57"
            strokeWidth="1.81818"
            strokeMiterlimit="10"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <path
            d="M6.82031 6.09106H15.5476"
            stroke="#1E1E1E"
            strokeWidth="1.81818"
            strokeMiterlimit="10"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
        </svg>
      ),
    },
    {
      label: "Total Errands",
      value: ridersSummary?.totalErrandsForRiders,
      icon: (
        <svg
          width="18"
          height="18"
          viewBox="0 0 18 18"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M11.1811 9.00002V1.72729H5.82839H1.72656V10.4546H9.72656C10.5266 10.4546 11.1811 9.80002 11.1811 9.00002Z"
            stroke="#484D57"
            strokeWidth="1.45455"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <path
            d="M16.272 10.4546V12.6365C16.272 13.8437 15.2975 14.8183 14.0902 14.8183H13.3629C13.3629 14.0183 12.7084 13.3637 11.9084 13.3637C11.1084 13.3637 10.4538 14.0183 10.4538 14.8183H7.54474C7.54474 14.0183 6.8902 13.3637 6.0902 13.3637C5.2902 13.3637 4.63565 14.0183 4.63565 14.8183H3.90838C2.70111 14.8183 1.72656 13.8437 1.72656 12.6365V10.4546H9.72656C10.5266 10.4546 11.1811 9.80009 11.1811 9.00009V3.90918H12.5193C13.0429 3.90918 13.5229 4.19282 13.7848 4.64373L15.0284 6.81827H14.0902C13.6902 6.81827 13.3629 7.14554 13.3629 7.54554V9.72736C13.3629 10.1274 13.6902 10.4546 14.0902 10.4546H16.272Z"
            stroke="#484D57"
            strokeWidth="1.81818"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <path
            d="M6.09126 16.2729C6.89459 16.2729 7.54581 15.6216 7.54581 14.8183C7.54581 14.015 6.89459 13.3638 6.09126 13.3638C5.28794 13.3638 4.63672 14.015 4.63672 14.8183C4.63672 15.6216 5.28794 16.2729 6.09126 16.2729Z"
            stroke="#484D57"
            strokeWidth="1.81818"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <path
            d="M11.9116 16.2729C12.7149 16.2729 13.3661 15.6216 13.3661 14.8183C13.3661 14.015 12.7149 13.3638 11.9116 13.3638C11.1083 13.3638 10.457 14.015 10.457 14.8183C10.457 15.6216 11.1083 16.2729 11.9116 16.2729Z"
            stroke="#484D57"
            strokeWidth="1.81818"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <path
            d="M16.2763 8.99993V10.4545H14.0945C13.6945 10.4545 13.3672 10.1272 13.3672 9.72721V7.54539C13.3672 7.14539 13.6945 6.81812 14.0945 6.81812H15.0326L16.2763 8.99993Z"
            stroke="#484D57"
            strokeWidth="1.81818"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
        </svg>
      ),
    },
  ];

  return (
    <main className="flex flex-col p-6">
      <div className="grid grid-cols-1 md:grid-cols-[1fr_400px] gap-4">
        <section className="h-full w-full gap-6 flex flex-col">
          <div className="bg-white rounded-lg p-4 w-full h-full flex flex-col">
            <h3 className="text-base text-[#2E323A] mb-4">Total Riders</h3>
            <h2 className="text-xl font-bold text-[#160A62] ">{ridersSummary?.totalRiders}</h2>

            <Riders startDate={startDate} endDate={endDate} />
          </div>
        </section>
        <section className="h-full w-full gap-8 flex flex-col">
          <SummaryCard title2="Riders Summary" metrics={metrics} />
        </section>
      </div>
      <div className="grid grid-cols-2 gap-8 mt-8">
        <MiniTableSummary
          title="Top 5 Riders"
          subTitle="Rider"
          subText="Number of Deliveries"
          data={topRiders}
        />
      </div>
    </main>
  );
};

export default RidersTab;
